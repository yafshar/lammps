LAMMPS (12 Jun 2025 - Development - patch_12Jun2025-747-g3fabe8e766-modified)
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread.
  using 1 OpenMP thread(s) per MPI task
#Pour composite granular particles on flat wall

newton          on
atom_style      sphere
atom_modify     map array sort 0 0

units           si

variable        minrad equal 0.5
variable        maxrad equal 1.4

variable        skin equal 0.3*${maxrad}
variable        skin equal 0.3*1.4

boundary        p p f
region          reg block 0 20 0 20 0 200 units box
create_box      1 reg
Created orthogonal box = (0 0 0) to (20 20 200)
  1 by 1 by 1 MPI processor grid

fix             prop all property/atom mol ghost yes

variable        dumpfreq equal 1000
variable        logfreq equal 1000

pair_style      gran/hooke/history 4e5 NULL 1e2 NULL 0.5 0
pair_coeff      * *

timestep        0.0001

group           particles type 1
0 atoms in group particles
atom_modify     first particles

neighbor        ${skin} bin
neighbor        0.42 bin
group           rigid type 1
0 atoms in group rigid
neigh_modify    every 1 delay 0 check yes exclude molecule/intra all

thermo          ${logfreq}
thermo          1000
thermo_style    custom step atoms ke pe
thermo_modify   lost warn

comm_modify     vel yes cutoff 3

molecule        mymol molecule.data
Read molecule template mymol:
LAMMPS data file created for rigid body molecule template
  1 molecules
  0 fragments
  0 bodies
  5 atoms with max type 1
  0 bonds with max type 0
  0 angles with max type 0
  0 dihedrals with max type 0
  0 impropers with max type 0
region          pourreg block 5 15 5 15 80 100 side in units box

#Note: in versions prior to 1/2020, the 'disable' keyword to fix/gravity
# and the 'gravity' keyword to fix rigid/small were not available.
# These settings produce undesirable behavior, where gravity can induce
# torque on rigid bodies.
#fix            gravfix all gravity 9.8 vector 0 0 -1 #disable
#fix            rigidfix all rigid/small molecule mol mymol #gravity gravfix

#The correct behavior is recovered with the following settings:
fix             gravfix all gravity 9.8 vector 0 0 -1 disable
fix             rigidfix all rigid/small molecule mol mymol gravity gravfix
Fix rigid/small setup ...
  create bodies CPU = 0.000 seconds
  0 rigid bodies with 0 atoms
  1.2 = max distance from body owner to body atom

fix             pourfix all pour 5 0 1234 region pourreg mol mymol rigid rigidfix

fix             zwall all wall/gran hooke/history 4000.0 NULL 100.0 NULL 0.5 0 zplane 0.1 NULL

#dump           1 all custom 1000 molecule_pour.dump id type mass radius x y z fx fy fz

run             100000
Generated 0 of 0 mixed pair_coeff terms from geometric mixing rule
Particle insertion: 15 every 20203 steps, 5 by step 1
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 1.62
  ghost atom cutoff = 3
  binsize = 0.81, bins = 25 25 247
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair gran/hooke/history, perpetual
      attributes: half, newton on, size, history
      pair build: half/size/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 6.893 | 6.893 | 6.893 Mbytes
   Step        Atoms        KinEng         PotEng    
         0           0  -0              0            
      1000          25  -0              0            
      2000          25  -0              0            
      3000          25  -0              0            
      4000          25  -0              0            
      5000          25  -0              0            
      6000          25  -0              0            
      7000          25  -0              0            
      8000          25  -0              0            
      9000          25  -0              0            
     10000          25  -0              0            
     11000          25  -0              0            
     12000          25  -0              0            
     13000          25  -0              0            
     14000          25  -0              0            
     15000          25  -0              0            
     16000          25  -0              0            
     17000          25  -0              0            
     18000          25  -0              0            
     19000          25  -0              0            
     20000          25  -0              0            
     21000          25  -0              0            
     22000          25  -0              0            
     23000          25  -0              0            
     24000          25  -0              0            
     25000          25  -0              0            
     26000          25  -0              0            
     27000          25  -0              0            
     28000          25  -0              0            
     29000          25  -0              0            
     30000          25  -0              0            
     31000          25  -0              0            
     32000          25  -0              0            
     33000          25  -0              0            
     34000          25  -0              0            
     35000          25  -0              0            
     36000          25  -0              0            
     37000          25  -0              0            
     38000          25  -0              0            
     39000          25  -0              0            
     40000          25  -0              0            
     41000          25  -0              0            
     42000          25  -0              0            
     43000          25  -0              0            
     44000          25  -0              0            
     45000          25  -0              0            
     46000          25  -0              0            
     47000          25  -0              0            
     48000          25  -0              0            
     49000          25  -0              0            
     50000          25  -0              0            
     51000          25  -0              0            
     52000          25  -0              0            
     53000          25  -0              0            
     54000          25  -0              0            
     55000          25  -0              0            
     56000          25  -0              0            
     57000          25  -0              0            
     58000          25  -0              0            
     59000          25  -0              0            
     60000          25  -0              0            
     61000          25  -0              0            
     62000          25  -0              0            
     63000          25  -0              0            
     64000          25  -0              0            
     65000          25  -0              0            
     66000          25  -0              0            
     67000          25  -0              0            
     68000          25  -0              0            
     69000          25  -0              0            
     70000          25  -0              0            
     71000          25  -0              0            
     72000          25  -0              0            
     73000          25  -0              0            
     74000          25  -0              0            
     75000          25  -0              0            
     76000          25  -0              0            
     77000          25  -0              0            
     78000          25  -0              0            
     79000          25  -0              0            
     80000          25  -0              0            
     81000          25  -0              0            
     82000          25  -0              0            
     83000          25  -0              0            
     84000          25  -0              0            
     85000          25  -0              0            
     86000          25  -0              0            
     87000          25  -0              0            
     88000          25  -0              0            
     89000          25  -0              0            
     90000          25  -0              0            
     91000          25  -0              0            
     92000          25  -0              0            
     93000          25  -0              0            
     94000          25  -0              0            
     95000          25  -0              0            
     96000          25  -0              0            
     97000          25  -0              0            
     98000          25  -0              0            
     99000          25  -0              0            
    100000          25  -0              0            
Loop time of 0.96757 on 1 procs for 100000 steps with 25 atoms

99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.022765   | 0.022765   | 0.022765   |   0.0 |  2.35
Neigh   | 0.34681    | 0.34681    | 0.34681    |   0.0 | 35.84
Comm    | 0.047773   | 0.047773   | 0.047773   |   0.0 |  4.94
Output  | 0.00046694 | 0.00046694 | 0.00046694 |   0.0 |  0.05
Modify  | 0.51257    | 0.51257    | 0.51257    |   0.0 | 52.98
Other   |            | 0.03718    |            |       |  3.84

Nlocal:             25 ave          25 max          25 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:              1 ave           1 max           1 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 0
Ave neighs/atom = 0
Neighbor list builds = 703
Dangerous builds = 0

Total wall time: 0:00:00
